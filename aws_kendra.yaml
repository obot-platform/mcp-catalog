name: AWS Kendra
description: |
  # AWS Labs Amazon Kendra Index MCP Server

  An AWS Labs Model Context Protocol (MCP) server for Amazon Kendra. This MCP server allows you to use Kendra Indices as additional context for RAG.

  ### Features:

  * Enhance your existing MCP-enabled ChatBot with additional RAG indices
  * Enhance the responses from coding assistants such as Cline, Cursor, Windsurf, Amazon Q Developer, etc.

  ### Pre-Requisites:

  1. [Sign-Up for an AWS account](https://aws.amazon.com/free/?trk=78b916d7-7c94-4cab-98d9-0ce5e648dd5f&sc_channel=ps&ef_id=Cj0KCQjwxJvBBhDuARIsAGUgNfjOZq8r2bH2OfcYfYTht5v5I1Bn0lBKiI2Ii71A8Gk39ZU5cwMLPkcaAo_CEALw_wcB:G:s&s_kwcid=AL!4422!3!432339156162!e!!g!!aws%20sign%20up!9572385111!102212379327&gad_campaignid=9572385111&gbraid=0AAAAADjHtp99c5A9DUyUaUQVhVEoi8of3&gclid=Cj0KCQjwxJvBBhDuARIsAGUgNfjOZq8r2bH2OfcYfYTht5v5I1Bn0lBKiI2Ii71A8Gk39ZU5cwMLPkcaAo_CEALw_wcB)
  2. [Create an Amazon Kendra Index](https://docs.aws.amazon.com/kendra/latest/dg/create-index.html) with your RAG documentation

  ### Configuration Options

  #### Required
  - `AWS_ACCESS_KEY_ID`: Your AWS credential access key
  - `AWS_SECRET_ACCESS_KEY`: Your AWS credential access secret

  #### Optional
  - `AWS_REGION`: AWS region to use (default: `us-east-1`)
  - `AWS_SESSION_TOKEN`: AWS Session Token (only required for temporary credentials like SSO or STS AssumeRole)

  ### Tools:

  #### KendraQueryTool

    - The KendraQueryTool takes the query specified by the user and queries a Kendra index to gain additional context for the response. This queries either the default index, or an index specified in the users prompt.
    - Required Parameters: query (str)
    - Optional Parameters: indexId (str), region (str)
    - Example:
      * `Can you help me understand how to implement a progress event in the CreateHandler using Java? Use the KendraQueryTool to gain additional context.`
      * `Can you use the test-kendra-index to help answer the following questions...`

  #### KendraListIndexesTool

    - The KendraListIndexesTool lists the Kendra Indexes in your account. By default it will list all the indices in the regions provided as environment variables to the mcp config file. Otherwise the region can be specified in the prompt.
    - Optional Parameters: region (str)
    - Example:
      * `Can you list the Kendra Indexes in my account in the us-west-2 region`


  ## Setup

  ### IAM Configuration

  1. Provision a user in your AWS account IAM
  2. Attach a policy that contains at a minimum the `kendra:Query` and `kendra:ListIndices` permissions. Alternatively the AWS Managed `AmazonKendraFullAccess` policy can be attached. Always follow the principal or least privilege when granting users permissions. See the [documentation](https://docs.aws.amazon.com/service-authorization/latest/reference/list_amazonkendra.html) for more information on IAM permissions for Amazon Kendra.
  3. Use `aws configure` on your environment to configure and get the credentials (access ID and access key)

  ## Best Practices

  - Follow the principle of least privilege when setting up IAM permissions
  - Use separate AWS profiles for different environments (dev, test, prod)
  - Monitor broker metrics and logs for performance and issues
  - Implement proper error handling in your client applications

  ## Security Considerations

  When using this MCP server, consider:

  - This MCP server needs permissions to query and list Amazon Kendra Indexes
  - This MCP server cannot create, modify, or delete resources in your account

  ## Troubleshooting

  - If you encounter permission errors, verify your IAM user has the correct policies attached
  - For connection issues, check network configurations and security groups
  - If resource modification fails with a tag validation error, it means the resource was not created by the MCP server
  - For general Amazon Kendra issues, consult the [Amazon Kendra developer guide](https://docs.aws.amazon.com/kendra/latest/dg/what-is-kendra.html)

  ## Version

  Current MCP server version: 0.0.0

metadata:
  categories: Retrieval & Search, SaaS & API Integrations
icon: https://avatars.githubusercontent.com/u/3299148?s=48&v=4
repoURL: https://github.com/awslabs/mcp/tree/main/src/amazon-kendra-index-mcp-server
env:
  - key: AWS_ACCESS_KEY_ID
    name: AWS Access Key ID
    required: true
    sensitive: true
    description: Your AWS Access Key ID
  - key: AWS_SECRET_ACCESS_KEY
    name: AWS Secret Access Key
    required: true
    sensitive: true
    description: AWS Secret Access Key
  - key: AWS_SESSION_TOKEN
    name: AWS Session Token
    required: false
    sensitive: true
    description: AWS Session Token, only required if using temporary credentials such as temporary AWS credentials, such as those obtained through aws sso login or other temporary access methods (for example, STS AssumeRole)
  - key: AWS_REGION
    name: AWS Region
    required: true
    sensitive: false
    description: AWS Region

runtime: uvx
uvxConfig:
  package: awslabs.amazon-kendra-index-mcp-server

toolPreview:
  - name: KendraQueryTool
    description: Query Amazon Kendra and retrieve content from the response.
    params:
      query: The search query to send to Amazon Kendra
      region: The region of the Kendra Index to send the search query to
      indexId: The indexId of the Kendra index to send the search query to
  - name: KendraListIndexesTool
    description: List all Amazon Kendra indexes in the specified region.
    params:
      region: The AWS region to list Kendra indexes from
